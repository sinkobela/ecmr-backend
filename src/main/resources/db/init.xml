<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.24.xsd" objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">
    <changeSet id="1725362715659-1" author="benedikt.hilbert">
        <createTable tableName="api_key">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_api_key"/>
            </column>
            <column name="value" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-2" author="benedikt.hilbert">
        <createTable tableName="carrier_information">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_carrier_information"/>
            </column>
            <column name="name_company" type="VARCHAR(255)"/>
            <column name="name_person" type="VARCHAR(255)"/>
            <column name="street" type="VARCHAR(255)"/>
            <column name="postcode" type="VARCHAR(255)"/>
            <column name="city" type="VARCHAR(255)"/>
            <column name="country_code" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="phone" type="VARCHAR(255)"/>
            <column name="signature_id" type="BIGINT"/>
            <column name="carrier_license_plate" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-3" author="benedikt.hilbert">
        <createTable tableName="consignee_information">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_consignee_information"/>
            </column>
            <column name="name_company" type="VARCHAR(255)"/>
            <column name="name_person" type="VARCHAR(255)"/>
            <column name="street" type="VARCHAR(255)"/>
            <column name="postcode" type="VARCHAR(255)"/>
            <column name="city" type="VARCHAR(255)"/>
            <column name="country_code" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="phone" type="VARCHAR(255)"/>
            <column name="signature_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-4" author="benedikt.hilbert">
        <createTable tableName="custom_charge">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_custom_charge"/>
            </column>
            <column name="value" type="FLOAT"/>
            <column name="currency" type="VARCHAR(255)"/>
            <column name="payer" type="SMALLINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-5" author="benedikt.hilbert">
        <createTable tableName="delivery_of_the_goods">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_delivery_of_the_goods"/>
            </column>
            <column name="logistics_location_city" type="VARCHAR(255)"/>
            <column name="logistics_location_opening_hours" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-6" author="benedikt.hilbert">
        <createTable tableName="ecmr">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_ecmr"/>
            </column>
            <column name="ecmr_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="sender_information_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="carrier_information_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="consignee_information_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="successive_carrier_information_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="taking_over_the_goods_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="goods_received_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="delivery_of_the_goods_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="carrier_reservations_observations" type="VARCHAR(255)"/>
            <column name="documents_remarks" type="VARCHAR(255)"/>
            <column name="custom_special_agreement" type="VARCHAR(255)"/>
            <column name="to_be_paid_by" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="custom_particulars" type="VARCHAR(255)"/>
            <column name="custom_cash_on_delivery" type="INT"/>
            <column name="custom_established_date" type="DATETIME"/>
            <column name="custom_established_in" type="VARCHAR(255)"/>
            <column name="non_contractual_carrier_remarks" type="VARCHAR(255)"/>
            <column name="reference_identification_number" type="VARCHAR(255)"/>
            <column name="transport_instructions_description" type="VARCHAR(255)"/>
            <column name="type" type="SMALLINT"/>
            <column name="ecmr_status" type="SMALLINT"/>
            <column name="created_at" type="DATETIME"/>
            <column name="created_by" type="VARCHAR(255)"/>
            <column name="edited_at" type="DATETIME"/>
            <column name="edited_by" type="VARCHAR(255)"/>
            <column name="share_with_sender_token" type="VARCHAR(255)"/>
            <column name="share_with_carrier_token" type="VARCHAR(255)"/>
            <column name="share_with_consignee_token" type="VARCHAR(255)"/>
            <column name="share_with_reader_token" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-7" author="benedikt.hilbert">
        <createTable tableName="ecmr_assignment">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_ecmr_assignment"/>
            </column>
            <column name="ecmr_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="group_id" type="BIGINT"/>
            <column name="external_user_id" type="BIGINT"/>
            <column name="role" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-8" author="benedikt.hilbert">
        <createTable tableName="ecmr_external_user">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_ecmr_external_user"/>
            </column>
            <column name="first_name" type="VARCHAR(255)"/>
            <column name="last_name" type="VARCHAR(255)"/>
            <column name="company" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="phone" type="VARCHAR(255)"/>
            <column name="tan" type="VARCHAR(255)"/>
            <column name="tan_valid_until" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-9" author="benedikt.hilbert">
        <createTable tableName="ecmr_group">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_ecmr_group"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="description" type="VARCHAR(255)"/>
            <column name="parent_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-10" author="benedikt.hilbert">
        <createTable tableName="ecmr_user">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_ecmr_user"/>
            </column>
            <column name="first_name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="last_name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="country" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="email" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="phone" type="VARCHAR(255)"/>
            <column name="role" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="default_group_id" type="BIGINT"/>
            <column defaultValueBoolean="false" name="deactivated" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
            <column defaultValueBoolean="false" name="technical" type="BOOLEAN">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-11" author="benedikt.hilbert">
        <createTable tableName="goods_received">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_goods_received"/>
            </column>
            <column name="confirmed_logistics_location_name" type="VARCHAR(255)"/>
            <column name="consignee_reservations_observations" type="VARCHAR(255)"/>
            <column name="consignee_time_of_arrival" type="DATETIME"/>
            <column name="consignee_time_of_departure" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-12" author="benedikt.hilbert">
        <createTable tableName="history_log">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_history_log"/>
            </column>
            <column name="ecmr_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="action_type" type="VARCHAR(255)"/>
            <column name="action_from" type="VARCHAR(255)"/>
            <column name="timestamp" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-13" author="benedikt.hilbert">
        <createTable tableName="item">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_item"/>
            </column>
            <column name="logistics_shipping_marks_marking" type="VARCHAR(255)"/>
            <column name="logistics_shipping_marks_custom_barcode" type="VARCHAR(255)"/>
            <column name="logistics_package_item_quantity" type="INT"/>
            <column name="logistics_package_type" type="VARCHAR(255)"/>
            <column name="transport_cargo_identification" type="VARCHAR(255)"/>
            <column name="supply_chain_consignment_item_gross_weight" type="INT"/>
            <column name="supply_chain_consignment_item_gross_volume" type="FLOAT"/>
            <column name="ecmr_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-14" author="benedikt.hilbert">
        <createTable tableName="sender_information">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_sender_information"/>
            </column>
            <column name="name_company" type="VARCHAR(255)"/>
            <column name="name_person" type="VARCHAR(255)"/>
            <column name="street" type="VARCHAR(255)"/>
            <column name="postcode" type="VARCHAR(255)"/>
            <column name="city" type="VARCHAR(255)"/>
            <column name="country_code" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="phone" type="VARCHAR(255)"/>
            <column name="signature_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-15" author="benedikt.hilbert">
        <createTable tableName="signature">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_signature"/>
            </column>
            <column name="signature_type" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="user_name" type="VARCHAR(255)"/>
            <column name="user_company" type="VARCHAR(255)"/>
            <column name="user_street" type="VARCHAR(255)"/>
            <column name="user_post_code" type="VARCHAR(255)"/>
            <column name="user_city" type="VARCHAR(255)"/>
            <column name="user_country" type="VARCHAR(255)"/>
            <column name="timestamp" type="DATETIME"/>
            <column name="data" type="CLOB"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-16" author="benedikt.hilbert">
        <createTable tableName="successive_carrier_information">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_successive_carrier_information"/>
            </column>
            <column name="name_company" type="VARCHAR(255)"/>
            <column name="name_person" type="VARCHAR(255)"/>
            <column name="street" type="VARCHAR(255)"/>
            <column name="postcode" type="VARCHAR(255)"/>
            <column name="city" type="VARCHAR(255)"/>
            <column name="country_code" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="phone" type="VARCHAR(255)"/>
            <column name="signature_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-17" author="benedikt.hilbert">
        <createTable tableName="taking_over_the_goods">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_taking_over_the_goods"/>
            </column>
            <column name="taking_over_the_goods_place" type="VARCHAR(255)"/>
            <column name="logistics_time_of_arrival_date_time" type="DATETIME"/>
            <column name="logistics_time_of_departure_date_time" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-18" author="benedikt.hilbert">
        <createTable tableName="template_user">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_template_user"/>
            </column>
            <column name="template_user_number" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="user_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="ecmr_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-19" author="benedikt.hilbert">
        <createTable tableName="to_be_paid_by">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_to_be_paid_by"/>
            </column>
            <column name="custom_charge_carriage_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="custom_charge_customs_duties_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="custom_charge_other_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="custom_charge_supplementary_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-20" author="benedikt.hilbert">
        <createTable tableName="user_to_group">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_user_to_group"/>
            </column>
            <column name="user_id" type="BIGINT"/>
            <column name="group_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1725362715659-21" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="description" constraintName="uc_api_key_description" tableName="api_key"/>
    </changeSet>
    <changeSet id="1725362715659-22" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="value" constraintName="uc_api_key_value" tableName="api_key"/>
    </changeSet>
    <changeSet id="1725362715659-23" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="carrier_information_id" constraintName="uc_ecmr_carrier_information" tableName="ecmr"/>
    </changeSet>
    <changeSet id="1725362715659-24" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="consignee_information_id" constraintName="uc_ecmr_consignee_information" tableName="ecmr"/>
    </changeSet>
    <changeSet id="1725362715659-25" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="delivery_of_the_goods_id" constraintName="uc_ecmr_delivery_of_the_goods" tableName="ecmr"/>
    </changeSet>
    <changeSet id="1725362715659-26" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="goods_received_id" constraintName="uc_ecmr_goods_received" tableName="ecmr"/>
    </changeSet>
    <changeSet id="1725362715659-27" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="sender_information_id" constraintName="uc_ecmr_sender_information" tableName="ecmr"/>
    </changeSet>
    <changeSet id="1725362715659-28" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="successive_carrier_information_id" constraintName="uc_ecmr_successive_carrier_information"
                             tableName="ecmr"/>
    </changeSet>
    <changeSet id="1725362715659-29" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="taking_over_the_goods_id" constraintName="uc_ecmr_taking_over_the_goods" tableName="ecmr"/>
    </changeSet>
    <changeSet id="1725362715659-30" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="to_be_paid_by" constraintName="uc_ecmr_to_be_paid_by" tableName="ecmr"/>
    </changeSet>
    <changeSet id="1725362715659-31" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="email" constraintName="uc_ecmr_user_email" tableName="ecmr_user"/>
    </changeSet>
    <changeSet id="1725362715659-32" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="custom_charge_carriage_id" constraintName="uc_to_be_paid_by_custom_charge_carriage"
                             tableName="to_be_paid_by"/>
    </changeSet>
    <changeSet id="1725362715659-33" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="custom_charge_customs_duties_id" constraintName="uc_to_be_paid_by_custom_charge_customs_duties"
                             tableName="to_be_paid_by"/>
    </changeSet>
    <changeSet id="1725362715659-34" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="custom_charge_other_id" constraintName="uc_to_be_paid_by_custom_charge_other" tableName="to_be_paid_by"/>
    </changeSet>
    <changeSet id="1725362715659-35" author="benedikt.hilbert">
        <addUniqueConstraint columnNames="custom_charge_supplementary_id" constraintName="uc_to_be_paid_by_custom_charge_supplementary"
                             tableName="to_be_paid_by"/>
    </changeSet>
    <changeSet id="1725362715659-48" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="api_key" constraintName="FK_API_KEY_ON_USER" referencedColumnNames="id"
                                 referencedTableName="ecmr_user"/>
    </changeSet>
    <changeSet id="1725362715659-49" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="signature_id" baseTableName="carrier_information"
                                 constraintName="FK_CARRIER_INFORMATION_ON_SIGNATURE" referencedColumnNames="id" referencedTableName="signature"/>

        <createIndex indexName="idx_f23ad209a1826ad8fcc506770" tableName="carrier_information">
            <column name="signature_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1725362715659-50" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="signature_id" baseTableName="consignee_information"
                                 constraintName="FK_CONSIGNEE_INFORMATION_ON_SIGNATURE" referencedColumnNames="id" referencedTableName="signature"/>

        <createIndex indexName="idx_84b747fc397fe39206724eeaa" tableName="consignee_information">
            <column name="signature_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1725362715659-51" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="ecmr_id" baseTableName="ecmr_assignment" constraintName="FK_ECMR_ASSIGNMENT_ON_ECMR"
                                 referencedColumnNames="id" referencedTableName="ecmr"/>
    </changeSet>
    <changeSet id="1725362715659-52" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="external_user_id" baseTableName="ecmr_assignment"
                                 constraintName="FK_ECMR_ASSIGNMENT_ON_EXTERNALUSER" referencedColumnNames="id"
                                 referencedTableName="ecmr_external_user"/>
    </changeSet>
    <changeSet id="1725362715659-53" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="group_id" baseTableName="ecmr_assignment" constraintName="FK_ECMR_ASSIGNMENT_ON_GROUP"
                                 referencedColumnNames="id" referencedTableName="ecmr_group"/>
    </changeSet>
    <changeSet id="1725362715659-54" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="parent_id" baseTableName="ecmr_group" constraintName="FK_ECMR_GROUP_ON_PARENT"
                                 referencedColumnNames="id" referencedTableName="ecmr_group"/>
    </changeSet>
    <changeSet id="1725362715659-55" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="carrier_information_id" baseTableName="ecmr" constraintName="FK_ECMR_ON_CARRIER_INFORMATION"
                                 referencedColumnNames="id" referencedTableName="carrier_information"/>

        <createIndex indexName="idx_e778d4b6e61e1bfc2bbd992a5" tableName="ecmr">
            <column name="carrier_information_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1725362715659-56" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="consignee_information_id" baseTableName="ecmr" constraintName="FK_ECMR_ON_CONSIGNEE_INFORMATION"
                                 referencedColumnNames="id" referencedTableName="consignee_information"/>

        <createIndex indexName="idx_77e689c09fdea8d9dc3d80ca2" tableName="ecmr">
            <column name="consignee_information_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1725362715659-57" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="delivery_of_the_goods_id" baseTableName="ecmr" constraintName="FK_ECMR_ON_DELIVERY_OF_THE_GOODS"
                                 referencedColumnNames="id" referencedTableName="delivery_of_the_goods"/>

        <createIndex indexName="idx_4fec1e47fde4d8d0db941310f" tableName="ecmr">
            <column name="delivery_of_the_goods_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1725362715659-58" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="goods_received_id" baseTableName="ecmr" constraintName="FK_ECMR_ON_GOODS_RECEIVED"
                                 referencedColumnNames="id" referencedTableName="goods_received"/>
    </changeSet>
    <changeSet id="1725362715659-59" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="sender_information_id" baseTableName="ecmr" constraintName="FK_ECMR_ON_SENDER_INFORMATION"
                                 referencedColumnNames="id" referencedTableName="sender_information"/>

        <createIndex indexName="idx_4c94229770c9f1ea41a3ab2f3" tableName="ecmr">
            <column name="sender_information_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1725362715659-60" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="successive_carrier_information_id" baseTableName="ecmr"
                                 constraintName="FK_ECMR_ON_SUCCESSIVE_CARRIER_INFORMATION" referencedColumnNames="id"
                                 referencedTableName="successive_carrier_information"/>

        <createIndex indexName="idx_134b2906dd7b2387816538980" tableName="ecmr">
            <column name="successive_carrier_information_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1725362715659-61" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="taking_over_the_goods_id" baseTableName="ecmr" constraintName="FK_ECMR_ON_TAKING_OVER_THE_GOODS"
                                 referencedColumnNames="id" referencedTableName="taking_over_the_goods"/>

        <createIndex indexName="idx_0816d8d72a36e6f5116e42751" tableName="ecmr">
            <column name="taking_over_the_goods_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1725362715659-62" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="to_be_paid_by" baseTableName="ecmr" constraintName="FK_ECMR_ON_TO_BE_PAID_BY"
                                 referencedColumnNames="id" referencedTableName="to_be_paid_by"/>

        <createIndex indexName="idx_d5a051dc27a745f5f690f75cf" tableName="ecmr">
            <column name="to_be_paid_by"/>
        </createIndex>
    </changeSet>
    <changeSet id="1725362715659-63" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="default_group_id" baseTableName="ecmr_user" constraintName="FK_ECMR_USER_ON_DEFAULT_GROUP"
                                 referencedColumnNames="id" referencedTableName="ecmr_group"/>
    </changeSet>
    <changeSet id="1725362715659-64" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="ecmr_id" baseTableName="history_log" constraintName="FK_HISTORY_LOG_ON_ECMR"
                                 referencedColumnNames="id" referencedTableName="ecmr"/>
    </changeSet>
    <changeSet id="1725362715659-65" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="ecmr_id" baseTableName="item" constraintName="FK_ITEM_ON_ECMR" referencedColumnNames="id"
                                 referencedTableName="ecmr"/>

        <createIndex indexName="idx_f9af39b5deced754233064e26" tableName="item">
            <column name="ecmr_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1725362715659-66" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="signature_id" baseTableName="sender_information" constraintName="FK_SENDER_INFORMATION_ON_SIGNATURE"
                                 referencedColumnNames="id" referencedTableName="signature"/>

        <createIndex indexName="idx_988303c88f35155f533de0e6b" tableName="sender_information">
            <column name="signature_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1725362715659-67" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="signature_id" baseTableName="successive_carrier_information"
                                 constraintName="FK_SUCCESSIVE_CARRIER_INFORMATION_ON_SIGNATURE" referencedColumnNames="id"
                                 referencedTableName="signature"/>

        <createIndex indexName="idx_fa92704fd43e153fd80673846" tableName="successive_carrier_information">
            <column name="signature_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1725362715659-68" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="ecmr_id" baseTableName="template_user" constraintName="FK_TEMPLATE_USER_ON_ECMR"
                                 referencedColumnNames="id" referencedTableName="ecmr"/>
    </changeSet>
    <changeSet id="1725362715659-69" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="template_user" constraintName="FK_TEMPLATE_USER_ON_USER"
                                 referencedColumnNames="id" referencedTableName="ecmr_user"/>
    </changeSet>
    <changeSet id="1725362715659-70" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="custom_charge_carriage_id" baseTableName="to_be_paid_by"
                                 constraintName="FK_TO_BE_PAID_BY_ON_CUSTOM_CHARGE_CARRIAGE" referencedColumnNames="id"
                                 referencedTableName="custom_charge"/>
    </changeSet>
    <changeSet id="1725362715659-71" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="custom_charge_customs_duties_id" baseTableName="to_be_paid_by"
                                 constraintName="FK_TO_BE_PAID_BY_ON_CUSTOM_CHARGE_CUSTOMS_DUTIES" referencedColumnNames="id"
                                 referencedTableName="custom_charge"/>
    </changeSet>
    <changeSet id="1725362715659-72" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="custom_charge_other_id" baseTableName="to_be_paid_by"
                                 constraintName="FK_TO_BE_PAID_BY_ON_CUSTOM_CHARGE_OTHER" referencedColumnNames="id"
                                 referencedTableName="custom_charge"/>
    </changeSet>
    <changeSet id="1725362715659-73" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="custom_charge_supplementary_id" baseTableName="to_be_paid_by"
                                 constraintName="FK_TO_BE_PAID_BY_ON_CUSTOM_CHARGE_SUPPLEMENTARY" referencedColumnNames="id"
                                 referencedTableName="custom_charge"/>
    </changeSet>
    <changeSet id="1725362715659-74" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="group_id" baseTableName="user_to_group" constraintName="FK_USER_TO_GROUP_ON_GROUP"
                                 referencedColumnNames="id" referencedTableName="ecmr_group"/>
    </changeSet>
    <changeSet id="1725362715659-75" author="benedikt.hilbert">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_to_group" constraintName="FK_USER_TO_GROUP_ON_USER"
                                 referencedColumnNames="id" referencedTableName="ecmr_user"/>
    </changeSet>

</databaseChangeLog>
