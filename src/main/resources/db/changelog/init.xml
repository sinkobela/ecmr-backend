<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
                      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.24.xsd" objectQuotingStrategy="QUOTE_ONLY_RESERVED_WORDS">
    <changeSet id="1720701203796-1" author="thomas.dukvin (generated)">
        <createTable tableName="carrier_information">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_carrier_information"/>
            </column>
            <column name="name_company" type="VARCHAR(255)"/>
            <column name="name_person" type="VARCHAR(255)"/>
            <column name="street" type="VARCHAR(255)"/>
            <column name="postcode" type="VARCHAR(255)"/>
            <column name="city" type="VARCHAR(255)"/>
            <column name="country_code" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="phone" type="VARCHAR(255)"/>
            <column name="signature_id" type="BIGINT"/>
            <column name="carrier_license_plate" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="1720701203796-2" author="thomas.dukvin (generated)">
        <createTable tableName="consignee_information">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_consignee_information"/>
            </column>
            <column name="name_company" type="VARCHAR(255)"/>
            <column name="name_person" type="VARCHAR(255)"/>
            <column name="street" type="VARCHAR(255)"/>
            <column name="postcode" type="VARCHAR(255)"/>
            <column name="city" type="VARCHAR(255)"/>
            <column name="country_code" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="phone" type="VARCHAR(255)"/>
            <column name="signature_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1720701203796-3" author="thomas.dukvin (generated)">
        <createTable tableName="custom_charge">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_custom_charge"/>
            </column>
            <column name="value" type="FLOAT"/>
            <column name="currency" type="VARCHAR(255)"/>
            <column name="payer" type="SMALLINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1720701203796-4" author="thomas.dukvin (generated)">
        <createTable tableName="delivery_of_the_goods">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_delivery_of_the_goods"/>
            </column>
            <column name="logistics_location_city" type="VARCHAR(255)"/>
            <column name="logistics_location_opening_hours" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="1720701203796-5" author="thomas.dukvin (generated)">
        <createTable tableName="ecmr">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_ecmr"/>
            </column>
            <column name="ecmr_id" type="UUID">
                <constraints nullable="false"/>
            </column>
            <column name="sender_information_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="carrier_information_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="consignee_information_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="successive_carrier_information_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="taking_over_the_goods_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="goods_received_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="delivery_of_the_goods_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="carrier_reservations_observations" type="VARCHAR(255)"/>
            <column name="documents_remarks" type="VARCHAR(255)"/>
            <column name="custom_special_agreement" type="VARCHAR(255)"/>
            <column name="to_be_paid_by" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="custom_particulars" type="VARCHAR(255)"/>
            <column name="custom_cash_on_delivery" type="INT"/>
            <column name="custom_established_date" type="DATETIME"/>
            <column name="custom_established_in" type="VARCHAR(255)"/>
            <column name="non_contractual_carrier_remarks" type="VARCHAR(255)"/>
            <column name="reference_identification_number" type="VARCHAR(255)"/>
            <column name="transport_instructions_description" type="VARCHAR(255)"/>
            <column name="type" type="SMALLINT"/>
            <column name="ecmr_status" type="SMALLINT"/>
            <column name="created_at" type="DATETIME"/>
            <column name="created_by" type="VARCHAR(255)"/>
            <column name="edited_at" type="DATETIME"/>
            <column name="edited_by" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="1720701203796-6" author="thomas.dukvin (generated)">
        <createTable tableName="goods_received">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_goods_received"/>
            </column>
            <column name="confirmed_logistics_location_name" type="VARCHAR(255)"/>
            <column name="consignee_reservations_observations" type="VARCHAR(255)"/>
            <column name="consignee_time_of_arrival" type="DATETIME"/>
            <column name="consignee_time_of_departure" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1720701203796-7" author="thomas.dukvin (generated)">
        <createTable tableName="item">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_item"/>
            </column>
            <column name="logistics_shipping_marks_marking" type="VARCHAR(255)"/>
            <column name="logistics_shipping_marks_custom_barcode" type="VARCHAR(255)"/>
            <column name="logistics_package_item_quantity" type="INT"/>
            <column name="logistics_package_type" type="VARCHAR(255)"/>
            <column name="transport_cargo_identification" type="VARCHAR(255)"/>
            <column name="supply_chain_consignment_item_gross_weight" type="INT"/>
            <column name="supply_chain_consignment_item_gross_volume" type="FLOAT">
                <constraints nullable="false"/>
            </column>
            <column name="ecmr_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1720701203796-8" author="thomas.dukvin (generated)">
        <createTable tableName="sender_information">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_sender_information"/>
            </column>
            <column name="name_company" type="VARCHAR(255)"/>
            <column name="name_person" type="VARCHAR(255)"/>
            <column name="street" type="VARCHAR(255)"/>
            <column name="postcode" type="VARCHAR(255)"/>
            <column name="city" type="VARCHAR(255)"/>
            <column name="country_code" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="phone" type="VARCHAR(255)"/>
            <column name="signature_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1720701203796-9" author="thomas.dukvin (generated)">
        <createTable tableName="signature">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_signature"/>
            </column>
            <column name="type" type="VARCHAR(255)"/>
            <column name="user_name" type="VARCHAR(255)"/>
            <column name="user_company" type="VARCHAR(255)"/>
            <column name="user_street" type="VARCHAR(255)"/>
            <column name="user_post_code" type="VARCHAR(255)"/>
            <column name="user_city" type="VARCHAR(255)"/>
            <column name="user_country" type="VARCHAR(255)"/>
            <column name="timestamp" type="DATETIME"/>
            <column name="data" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet id="1720701203796-10" author="thomas.dukvin (generated)">
        <createTable tableName="successive_carrier_information">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_successive_carrier_information"/>
            </column>
            <column name="name_company" type="VARCHAR(255)"/>
            <column name="name_person" type="VARCHAR(255)"/>
            <column name="street" type="VARCHAR(255)"/>
            <column name="postcode" type="VARCHAR(255)"/>
            <column name="city" type="VARCHAR(255)"/>
            <column name="country_code" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="phone" type="VARCHAR(255)"/>
            <column name="signature_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1720701203796-11" author="thomas.dukvin (generated)">
        <createTable tableName="taking_over_the_goods">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_taking_over_the_goods"/>
            </column>
            <column name="taking_over_the_goods_place" type="VARCHAR(255)"/>
            <column name="logistics_time_of_arrival_date_time" type="DATETIME"/>
            <column name="logistics_time_of_departure_date_time" type="DATETIME"/>
        </createTable>
    </changeSet>
    <changeSet id="1720701203796-12" author="thomas.dukvin (generated)">
        <createTable tableName="template_user">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_template_user"/>
            </column>
            <column name="template_user_number" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="ecmr_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet id="1720701203796-13" author="thomas.dukvin (generated)">
        <createTable tableName="to_be_paid_by">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints nullable="false" primaryKey="true" primaryKeyName="pk_to_be_paid_by"/>
            </column>
            <column name="custom_charge_carriage_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="custom_charge_customs_duties_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="custom_charge_other_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="custom_charge_supplementary_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet id="1720701203796-14" author="thomas.dukvin (generated)">
        <addUniqueConstraint columnNames="carrier_information_id" constraintName="uc_ecmr_carrier_information" tableName="ecmr"/>
    </changeSet>
    <changeSet id="1720701203796-15" author="thomas.dukvin (generated)">
        <addUniqueConstraint columnNames="consignee_information_id" constraintName="uc_ecmr_consignee_information" tableName="ecmr"/>
    </changeSet>
    <changeSet id="1720701203796-16" author="thomas.dukvin (generated)">
        <addUniqueConstraint columnNames="delivery_of_the_goods_id" constraintName="uc_ecmr_delivery_of_the_goods" tableName="ecmr"/>
    </changeSet>
    <changeSet id="1720701203796-17" author="thomas.dukvin (generated)">
        <addUniqueConstraint columnNames="goods_received_id" constraintName="uc_ecmr_goods_received" tableName="ecmr"/>
    </changeSet>
    <changeSet id="1720701203796-18" author="thomas.dukvin (generated)">
        <addUniqueConstraint columnNames="sender_information_id" constraintName="uc_ecmr_sender_information" tableName="ecmr"/>
    </changeSet>
    <changeSet id="1720701203796-19" author="thomas.dukvin (generated)">
        <addUniqueConstraint columnNames="successive_carrier_information_id" constraintName="uc_ecmr_successive_carrier_information"
                             tableName="ecmr"/>
    </changeSet>
    <changeSet id="1720701203796-20" author="thomas.dukvin (generated)">
        <addUniqueConstraint columnNames="taking_over_the_goods_id" constraintName="uc_ecmr_taking_over_the_goods" tableName="ecmr"/>
    </changeSet>
    <changeSet id="1720701203796-21" author="thomas.dukvin (generated)">
        <addUniqueConstraint columnNames="to_be_paid_by" constraintName="uc_ecmr_to_be_paid_by" tableName="ecmr"/>
    </changeSet>
    <changeSet id="1720701203796-22" author="thomas.dukvin (generated)">
        <addUniqueConstraint columnNames="custom_charge_carriage_id" constraintName="uc_to_be_paid_by_custom_charge_carriage"
                             tableName="to_be_paid_by"/>
    </changeSet>
    <changeSet id="1720701203796-23" author="thomas.dukvin (generated)">
        <addUniqueConstraint columnNames="custom_charge_customs_duties_id" constraintName="uc_to_be_paid_by_custom_charge_customs_duties"
                             tableName="to_be_paid_by"/>
    </changeSet>
    <changeSet id="1720701203796-24" author="thomas.dukvin (generated)">
        <addUniqueConstraint columnNames="custom_charge_other_id" constraintName="uc_to_be_paid_by_custom_charge_other" tableName="to_be_paid_by"/>
    </changeSet>
    <changeSet id="1720701203796-25" author="thomas.dukvin (generated)">
        <addUniqueConstraint columnNames="custom_charge_supplementary_id" constraintName="uc_to_be_paid_by_custom_charge_supplementary"
                             tableName="to_be_paid_by"/>
    </changeSet>
    <changeSet id="1720701203796-38" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="signature_id" baseTableName="carrier_information"
                                 constraintName="FK_CARRIER_INFORMATION_ON_SIGNATURE" referencedColumnNames="id" referencedTableName="signature"/>

        <createIndex indexName="idx_f23ad209a1826ad8fcc506770" tableName="carrier_information">
            <column name="signature_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1720701203796-39" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="signature_id" baseTableName="consignee_information"
                                 constraintName="FK_CONSIGNEE_INFORMATION_ON_SIGNATURE" referencedColumnNames="id" referencedTableName="signature"/>

        <createIndex indexName="idx_84b747fc397fe39206724eeaa" tableName="consignee_information">
            <column name="signature_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1720701203796-40" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="carrier_information_id" baseTableName="ecmr" constraintName="FK_ECMR_ON_CARRIER_INFORMATION"
                                 referencedColumnNames="id" referencedTableName="carrier_information"/>

        <createIndex indexName="idx_e778d4b6e61e1bfc2bbd992a5" tableName="ecmr">
            <column name="carrier_information_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1720701203796-41" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="consignee_information_id" baseTableName="ecmr" constraintName="FK_ECMR_ON_CONSIGNEE_INFORMATION"
                                 referencedColumnNames="id" referencedTableName="consignee_information"/>

        <createIndex indexName="idx_77e689c09fdea8d9dc3d80ca2" tableName="ecmr">
            <column name="consignee_information_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1720701203796-42" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="delivery_of_the_goods_id" baseTableName="ecmr" constraintName="FK_ECMR_ON_DELIVERY_OF_THE_GOODS"
                                 referencedColumnNames="id" referencedTableName="delivery_of_the_goods"/>

        <createIndex indexName="idx_4fec1e47fde4d8d0db941310f" tableName="ecmr">
            <column name="delivery_of_the_goods_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1720701203796-43" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="goods_received_id" baseTableName="ecmr" constraintName="FK_ECMR_ON_GOODS_RECEIVED"
                                 referencedColumnNames="id" referencedTableName="goods_received"/>
    </changeSet>
    <changeSet id="1720701203796-44" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="sender_information_id" baseTableName="ecmr" constraintName="FK_ECMR_ON_SENDER_INFORMATION"
                                 referencedColumnNames="id" referencedTableName="sender_information"/>

        <createIndex indexName="idx_4c94229770c9f1ea41a3ab2f3" tableName="ecmr">
            <column name="sender_information_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1720701203796-45" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="successive_carrier_information_id" baseTableName="ecmr"
                                 constraintName="FK_ECMR_ON_SUCCESSIVE_CARRIER_INFORMATION" referencedColumnNames="id"
                                 referencedTableName="successive_carrier_information"/>

        <createIndex indexName="idx_134b2906dd7b2387816538980" tableName="ecmr">
            <column name="successive_carrier_information_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1720701203796-46" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="taking_over_the_goods_id" baseTableName="ecmr" constraintName="FK_ECMR_ON_TAKING_OVER_THE_GOODS"
                                 referencedColumnNames="id" referencedTableName="taking_over_the_goods"/>

        <createIndex indexName="idx_0816d8d72a36e6f5116e42751" tableName="ecmr">
            <column name="taking_over_the_goods_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1720701203796-47" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="to_be_paid_by" baseTableName="ecmr" constraintName="FK_ECMR_ON_TO_BE_PAID_BY"
                                 referencedColumnNames="id" referencedTableName="to_be_paid_by"/>

        <createIndex indexName="idx_d5a051dc27a745f5f690f75cf" tableName="ecmr">
            <column name="to_be_paid_by"/>
        </createIndex>
    </changeSet>
    <changeSet id="1720701203796-48" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="ecmr_id" baseTableName="item" constraintName="FK_ITEM_ON_ECMR" referencedColumnNames="id"
                                 referencedTableName="ecmr"/>

        <createIndex indexName="idx_f9af39b5deced754233064e26" tableName="item">
            <column name="ecmr_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1720701203796-49" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="signature_id" baseTableName="sender_information" constraintName="FK_SENDER_INFORMATION_ON_SIGNATURE"
                                 referencedColumnNames="id" referencedTableName="signature"/>

        <createIndex indexName="idx_988303c88f35155f533de0e6b" tableName="sender_information">
            <column name="signature_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1720701203796-50" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="signature_id" baseTableName="successive_carrier_information"
                                 constraintName="FK_SUCCESSIVE_CARRIER_INFORMATION_ON_SIGNATURE" referencedColumnNames="id"
                                 referencedTableName="signature"/>

        <createIndex indexName="idx_fa92704fd43e153fd80673846" tableName="successive_carrier_information">
            <column name="signature_id"/>
        </createIndex>
    </changeSet>
    <changeSet id="1720701203796-51" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="ecmr_id" baseTableName="template_user" constraintName="FK_TEMPLATE_USER_ON_ECMR"
                                 referencedColumnNames="id" referencedTableName="ecmr"/>
    </changeSet>
    <changeSet id="1720701203796-52" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="custom_charge_carriage_id" baseTableName="to_be_paid_by"
                                 constraintName="FK_TO_BE_PAID_BY_ON_CUSTOM_CHARGE_CARRIAGE" referencedColumnNames="id"
                                 referencedTableName="custom_charge"/>
    </changeSet>
    <changeSet id="1720701203796-53" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="custom_charge_customs_duties_id" baseTableName="to_be_paid_by"
                                 constraintName="FK_TO_BE_PAID_BY_ON_CUSTOM_CHARGE_CUSTOMS_DUTIES" referencedColumnNames="id"
                                 referencedTableName="custom_charge"/>
    </changeSet>
    <changeSet id="1720701203796-54" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="custom_charge_other_id" baseTableName="to_be_paid_by"
                                 constraintName="FK_TO_BE_PAID_BY_ON_CUSTOM_CHARGE_OTHER" referencedColumnNames="id"
                                 referencedTableName="custom_charge"/>
    </changeSet>
    <changeSet id="1720701203796-55" author="thomas.dukvin (generated)">
        <addForeignKeyConstraint baseColumnNames="custom_charge_supplementary_id" baseTableName="to_be_paid_by"
                                 constraintName="FK_TO_BE_PAID_BY_ON_CUSTOM_CHARGE_SUPPLEMENTARY" referencedColumnNames="id"
                                 referencedTableName="custom_charge"/>
    </changeSet>

</databaseChangeLog>